 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Wishlist | Your Shop</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background-color: #f4f9f9; }

        /* Header (Same as Index) */
        header { background: white; padding: 1rem 5%; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .logo { font-size: 1.5rem; font-weight: bold; color: #00796b; text-decoration: none; }
        .nav-links a { margin-left: 20px; text-decoration: none; color: #555; font-weight: 500;}

        /* Grid Layout */
        .container { max-width: 1000px; margin: 40px auto; width: 90%; }
        h1 { color: #004d40; margin-bottom: 20px; border-bottom: 2px solid #e0f2f1; padding-bottom: 10px; }

        .wishlist-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 20px;
        }

        /* Card Style */
        .card {
            background: white; padding: 15px; border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05); text-align: center; position: relative;
            overflow: hidden;
        }

        /* --- UPDATED IMAGE STYLE --- */
        .product-image { 
            height: 180px; 
            width: 100%;
            display: flex; 
            align-items: center; 
            justify-content: center; 
            background: #f9f9f9; 
            border-radius: 10px; 
            margin-bottom: 10px; 
            overflow: hidden;
        }
        
        .product-img-tag {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .price { color: #00796b; font-weight: bold; font-size: 1.2rem; margin: 5px 0; }
        
        .remove-btn {
            position: absolute; top: 10px; right: 10px;
            background: #ffebee; color: red; border: none;
            width: 30px; height: 30px; border-radius: 50%;
            cursor: pointer; font-weight: bold; z-index: 10;
        }
        .move-btn {
            width: 100%; background: #00796b; color: white; border: none; padding: 10px;
            border-radius: 20px; cursor: pointer; margin-top: 5px;
        }
        .empty-msg { text-align: center; padding: 50px; color: #777; grid-column: 1/-1; }
    </style>
</head>
<body>

<header>
    <a href="index.html" class="logo">Your Shop</a>
    <nav class="nav-links">
        <a href="index.html">Home</a>
        <a href="cart.html">Cart</a>
        <a href="account.html">My Account</a>
    </nav>
</header>

<div class="container">
    <h1>My Wishlist ❤️</h1>
    <div class="wishlist-grid" id="wishlist-container">
        </div>
</div>

<script>
    // 1. Get Wishlist Data
    let wishlist = JSON.parse(localStorage.getItem('yourShopWishlist')) || [];
    const container = document.getElementById('wishlist-container');

    function renderWishlist() {
        container.innerHTML = '';

        if (wishlist.length === 0) {
            container.innerHTML = `
                <div class="empty-msg">
                    <h2>Your wishlist is empty</h2>
                    <br>
                    <a href="index.html" style="color:#00796b; font-weight:bold;">Go Shopping</a>
                </div>`;
            return;
        }

        wishlist.forEach((product, index) => {
            // Check if image is URL or Emoji (Backward compatibility)
            let imgContent;
            if(product.image.includes('http')) {
                // If it's a URL (New)
                imgContent = `<img src="${product.image}" alt="${product.name}" class="product-img-tag">`;
            } else {
                // If it's an Emoji (Old)
                imgContent = `<span style="font-size:3rem;">${product.image}</span>`;
            }

            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <button class="remove-btn" onclick="removeFromWishlist(${index})" title="Remove">✕</button>
                
                <div class="product-image">
                    ${imgContent}
                </div>
                
                <h3>${product.name}</h3>
                <p class="price">₹${product.price.toLocaleString('en-IN')}</p>
                <button class="move-btn" onclick="moveToCart(${index})">Move to Cart</button>
            `;
            container.appendChild(card);
        });
    }

    // 2. Remove Item
    function removeFromWishlist(index) {
        wishlist.splice(index, 1);
        localStorage.setItem('yourShopWishlist', JSON.stringify(wishlist));
        renderWishlist();
    }

    // 3. Move to Cart
    function moveToCart(index) {
        const product = wishlist[index];
        
        let cart = JSON.parse(localStorage.getItem('yourShopCart')) || [];
        const existing = cart.find(item => item.id === product.id);
        
        if(existing) {
            existing.qty++;
        } else {
            cart.push({...product, qty: 1});
        }
        localStorage.setItem('yourShopCart', JSON.stringify(cart));

        // Remove from Wishlist
        removeFromWishlist(index);
        
        alert("Moved to Cart!");
    }

    renderWishlist();
</script>

</body>
</html>