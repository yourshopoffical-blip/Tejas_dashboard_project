<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Wishlist | SwiftCart</title>

<style>
    /* ... Keeping your excellent styles ... */
    *{ margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    body{ background:#296C87; }
    header{ background:linear-gradient(135deg,#e0f7fa,#ffffff); padding:15px 5%; display:flex; justify-content:space-between; align-items:center; }
    .logo{ font-size:1.5rem; font-weight:bold; color:#00796b; text-decoration:none; }
    nav a{ margin-left:20px; text-decoration:none; color:#555; font-weight:500; }
    
    .wishlist-container{ width:90%; max-width:1100px; margin:40px auto; background:#fff; padding:30px; border-radius:15px; box-shadow:0 10px 25px rgba(0,0,0,0.15); min-height: 300px; }
    .wishlist-container h2{ text-align:center; color:#00796b; margin-bottom:25px; }
    .wishlist-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(250px,1fr)); gap:25px; }
    
    .card{ background:#fafafa; padding:15px; border-radius:15px; box-shadow:0 4px 15px rgba(0,0,0,0.08); position:relative; text-align:center; transition: 0.3s; }
    .card:hover { transform: translateY(-5px); }
    .card-img{ height:180px; background:#e0e0e0; border-radius:10px; display:flex; align-items:center; justify-content:center; color:#999; margin-bottom:15px; font-size: 2.5rem; }
    .card h3{ font-size:1.1rem; margin-bottom:5px; }
    .price{ color:#00796b; font-weight:bold; margin-bottom:10px; }
    
    .btn{ display:inline-block; padding:8px 20px; border-radius:20px; font-size:0.9rem; text-decoration:none; margin:5px; transition:0.3s; border: none; cursor: pointer; }
    .move-btn{ background:#80deea; color:#004d40; font-weight: 600; }
    .move-btn:hover{ background:#00796b; color:#fff; }
    
    .remove-btn{ position:absolute; top:12px; right:12px; background:#ff5252; color:#fff; width:26px; height:26px; border-radius:50%; text-align:center; line-height:26px; font-size:14px; cursor:pointer; border: none; }
    .empty-msg { text-align: center; grid-column: 1 / -1; padding: 40px; color: #666; }

    footer{ text-align:center; padding:20px; color:#fff; opacity:0.9; }
</style>
</head>

<body>

<header>
    <a href="index.html" class="logo">SwiftCart</a>
    <nav>
        <a href="index.html">Home</a>
        <a href="cart.html">Cart</a>
        <a href="account.html">Account</a>
    </nav>
</header>

<div class="wishlist-container">
    <h2>My Wishlist</h2>
    <div class="wishlist-grid" id="wishlist-grid">
        </div>
</div>

<footer>
    Â© 2025 SwiftCart India
</footer>

<script>
    // 1. Mock Data (If storage is empty)
    const initialWishlist = [
        { id: 'p1', name: 'Wireless Headphones', price: 2499, icon: 'ðŸŽ§' },
        { id: 'p2', name: 'Smart Watch Series 7', price: 14999, icon: 'âŒš' },
        { id: 'p4', name: 'Minimalist Backpack', price: 1899, icon: 'ðŸŽ’' }
    ];

    // 2. Load Wishlist on start
    function renderWishlist() {
        const grid = document.getElementById('wishlist-grid');
        const wishlist = JSON.parse(localStorage.getItem('swiftCart_wishlist')) || initialWishlist;

        if (wishlist.length === 0) {
            grid.innerHTML = `<div class="empty-msg"><h3>Your wishlist is empty</h3><br><a href="index.html" style="color:#00796b">Browse Products</a></div>`;
            return;
        }

        grid.innerHTML = wishlist.map(item => `
            <div class="card" id="wish-item-${item.id}">
                <button class="remove-btn" onclick="removeFromWishlist('${item.id}')">Ã—</button>
                <div class="card-img">${item.icon || 'ðŸ“¦'}</div>
                <h3>${item.name}</h3>
                <p class="price">â‚¹${item.price.toLocaleString('en-IN')}</p>
                <button class="btn move-btn" onclick="moveToCart('${item.id}')">Move to Cart</button>
            </div>
        `).join('');
        
        // Save back to storage if we used initial data
        localStorage.setItem('swiftCart_wishlist', JSON.stringify(wishlist));
    }

    // 3. Remove Item
    function removeFromWishlist(id) {
        let wishlist = JSON.parse(localStorage.getItem('swiftCart_wishlist'));
        wishlist = wishlist.filter(item => item.id !== id);
        localStorage.setItem('swiftCart_wishlist', JSON.stringify(wishlist));
        renderWishlist();
    }

    // 4. Move to Cart
    function moveToCart(id) {
        let wishlist = JSON.parse(localStorage.getItem('swiftCart_wishlist'));
        const itemToMove = wishlist.find(item => item.id === id);

        if (itemToMove) {
            // Add to Cart State
            let cart = JSON.parse(localStorage.getItem('swiftCart_state')) || [];
            const existingInCart = cart.find(c => c.id === id);
            
            if (existingInCart) {
                existingInCart.qty += 1;
            } else {
                cart.push({ ...itemToMove, qty: 1 });
            }
            
            localStorage.setItem('swiftCart_state', JSON.stringify(cart));

            // Remove from Wishlist
            removeFromWishlist(id);
            alert(`${itemToMove.name} moved to cart!`);
        }
    }

    window.onload = renderWishlist;
</script>

</body>
</html>